# 响应式
Vue 2 的响应式系统是 Vue 框架的核心特性之一，它允许开发者创建动态的数据绑定。在 Vue 2 中，响应式系统主要依赖于以下几个技术实现：

1. **Object.defineProperty**：
   Vue 2 使用 `Object.defineProperty` 来劫持对象属性的 getter 和 setter，从而能够监听到属性的变化。当组件的数据对象被访问或修改时，Vue 会通过这个劫持机制来追踪依赖（哪些组件依赖了这个数据），并在数据变化时通知这些依赖进行更新。

2. **依赖收集（Dep）**：
   每个属性都有一个与之关联的 `Dep` 实例，用于收集依赖（Watcher）。当属性被读取时（例如在模板或计算属性中），`Dep` 实例会记录当前的订阅者（Watcher）。当属性值变化时，`Dep` 会通知所有订阅者进行更新。

3. **Watcher**：
   Watcher 是一个观察者对象，负责订阅和监听数据的变化，并在变化发生时执行相应的回调函数。Watcher 可以是组件渲染的渲染器，也可以是计算属性的计算器。

4. **虚拟 DOM（Virtual DOM）**：
   Vue 通过维护一个虚拟 DOM 树来描述真实 DOM 的状态。当数据变化时，Vue 会使用这个虚拟 DOM 树来计算出最小的 DOM 更新操作，以提高性能。

5. **异步更新队列（Async Update Queue）**：
   由于 JavaScript 的异步特性，Vue 将所有数据变化的响应操作放入一个异步队列中，然后批量执行。这样可以避免不必要的重复渲染，提高性能。

6. **数组的响应式处理**：
   Vue 2 通过重写数组的原型方法（如 `push`、`pop`、`splice` 等）来确保数组的变化也是响应式的。

7. **非响应式对象的响应式转换**：
   Vue 提供了 `Vue.set` 和 `this.$set` 方法来确保向响应式对象添加新属性时，这些属性也是响应式的。

8. **递归侦听**：
   当一个对象被设置为响应式时，Vue 会递归地将其所有属性都转换为响应式，确保整个对象树的变化都能被追踪。

Vue 2 的响应式系统通过这些技术实现了高效的数据绑定和更新机制，使得开发者可以专注于业务逻辑，而不需要手动操作 DOM。

